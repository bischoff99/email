{"version":3,"file":"find-teams-DXyzyQOy.cjs","names":["ParamOrganizationSlug","context: ServerContext","UserInputError"],"sources":["../src/tools/find-teams.ts"],"sourcesContent":["import { z } from \"zod\";\nimport { setTag } from \"@sentry/core\";\nimport { defineTool } from \"./utils/defineTool\";\nimport { apiServiceFromContext } from \"./utils/api-utils\";\nimport { UserInputError } from \"../errors\";\nimport type { ServerContext } from \"../types\";\nimport { ParamOrganizationSlug, ParamRegionUrl } from \"../schema\";\n\nexport default defineTool({\n  name: \"find_teams\",\n  description: [\n    \"Find teams in an organization in Sentry.\",\n    \"\",\n    \"Use this tool when you need to:\",\n    \"- View all teams in a Sentry organization\",\n    \"- Find a team's slug to aid other tool requests\",\n  ].join(\"\\n\"),\n  inputSchema: {\n    organizationSlug: ParamOrganizationSlug,\n    regionUrl: ParamRegionUrl.optional(),\n  },\n  async handler(params, context: ServerContext) {\n    const apiService = apiServiceFromContext(context, {\n      regionUrl: params.regionUrl,\n    });\n    const organizationSlug = params.organizationSlug;\n\n    if (!organizationSlug) {\n      throw new UserInputError(\n        \"Organization slug is required. Please provide an organizationSlug parameter.\",\n      );\n    }\n\n    setTag(\"organization.slug\", organizationSlug);\n\n    const teams = await apiService.listTeams(organizationSlug);\n    let output = `# Teams in **${organizationSlug}**\\n\\n`;\n    if (teams.length === 0) {\n      output += \"No teams found.\\n\";\n      return output;\n    }\n    output += teams.map((team) => `- ${team.slug}\\n`).join(\"\");\n    return output;\n  },\n});\n"],"mappings":";;;;;;;;AAQA,yBAAe,8BAAW;CACxB,MAAM;CACN,aAAa;EACX;EACA;EACA;EACA;EACA;CACD,EAAC,KAAK,KAAK;CACZ,aAAa;EACX,kBAAkBA;EAClB,WAAW,8BAAe,UAAU;CACrC;CACD,MAAM,QAAQ,QAAQC,SAAwB;EAC5C,MAAM,aAAa,wCAAsB,SAAS,EAChD,WAAW,OAAO,UACnB,EAAC;EACF,MAAM,mBAAmB,OAAO;AAEhC,OAAK,iBACH,OAAM,IAAIC,8BACR;AAIJ,4BAAO,qBAAqB,iBAAiB;EAE7C,MAAM,QAAQ,MAAM,WAAW,UAAU,iBAAiB;EAC1D,IAAI,UAAU,eAAe,iBAAiB;AAC9C,MAAI,MAAM,WAAW,GAAG;AACtB,aAAU;AACV,UAAO;EACR;AACD,YAAU,MAAM,IAAI,CAAC,UAAU,IAAI,KAAK,KAAK,IAAI,CAAC,KAAK,GAAG;AAC1D,SAAO;CACR;AACF,EAAC"}