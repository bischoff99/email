import { z } from "zod";
import { tool } from "ai";

//#region src/agent-tools/whoami.ts
/**
* Get the current authenticated user's information from Sentry API
*/
async function getCurrentUser(apiService) {
	const user = await apiService.getAuthenticatedUser();
	return {
		id: user.id,
		name: user.name,
		email: user.email
	};
}
/**
* Create a tool for getting current user information
*/
function createWhoamiTool(apiService) {
	return tool({
		description: "Get the current authenticated user's information",
		parameters: z.object({}),
		execute: async () => {
			const user = await getCurrentUser(apiService);
			return `Current user: ${user.name || "Unknown"} (${user.email}, ID: ${user.id})`;
		}
	});
}

//#endregion
export { createWhoamiTool, getCurrentUser };
//# sourceMappingURL=whoami-xBAWvzG4.js.map