{"version":3,"file":"whoami-BOJHfdih.cjs","names":["context: ServerContext"],"sources":["../src/tools/whoami.ts"],"sourcesContent":["import { z } from \"zod\";\nimport { defineTool } from \"./utils/defineTool\";\nimport { apiServiceFromContext } from \"./utils/api-utils\";\nimport type { ServerContext } from \"../types\";\n\nexport default defineTool({\n  name: \"whoami\",\n  description: [\n    \"Identify the authenticated user in Sentry.\",\n    \"\",\n    \"Use this tool when you need to:\",\n    \"- Get the user's name and email address.\",\n  ].join(\"\\n\"),\n  inputSchema: {},\n  async handler(params, context: ServerContext) {\n    // User data endpoints (like /auth/) should never use regionUrl\n    // as they must always query the main API server, not region-specific servers\n    const apiService = apiServiceFromContext(context);\n    const user = await apiService.getAuthenticatedUser();\n    return `You are authenticated as ${user.name} (${user.email}).\\n\\nYour Sentry User ID is ${user.id}.`;\n  },\n});\n"],"mappings":";;;;AAKA,qBAAe,8BAAW;CACxB,MAAM;CACN,aAAa;EACX;EACA;EACA;EACA;CACD,EAAC,KAAK,KAAK;CACZ,aAAa,CAAE;CACf,MAAM,QAAQ,QAAQA,SAAwB;EAG5C,MAAM,aAAa,wCAAsB,QAAQ;EACjD,MAAM,OAAO,MAAM,WAAW,sBAAsB;AACpD,UAAQ,2BAA2B,KAAK,KAAK,IAAI,KAAK,MAAM,+BAA+B,KAAK,GAAG;CACpG;AACF,EAAC"}